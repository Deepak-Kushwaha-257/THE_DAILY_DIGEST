{"ast":null,"code":"var _jsxFileName = \"/Users/deepak/Documents/Deepak/ReactJs/news_app/src/components/News.js\";\nimport React, { Component } from 'react';\nimport NewsItem from './NewsItem';\nimport Spinner from './Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class News extends Component {\n  constructor() {\n    super();\n    this.articles = [];\n    this.page_no = 1;\n    this.totalResults = 0;\n    this.page_size = 10;\n    this.handlenext = async () => {\n      if (this.state.page_no + 1 > Math.ceil(this.state.totalResults / this.state.page_size)) {\n        console.log(Math.ceil(this.state.totalResults / this.state.page_size));\n      } else {\n        console.log(\"next is clicked\");\n        let url = `https://newsapi.org/v2/top-headlines?country=us&category=${this.props.category}&apiKey=ea68187f71374f6d8c64a5794237c8c1&page=${this.state.page_no + 1}&pageSize=${this.state.page_size}`;\n        this.setState({\n          loading: true\n        });\n        let data = await fetch(url);\n        let parsed_data = await data.json();\n        this.setState({\n          articles: parsed_data.articles,\n          total_results: parsed_data.totalResults,\n          page_no: this.state.page_no + 1,\n          loading: false\n        });\n      }\n    };\n    this.handleprev = async () => {\n      console.log(\"prev clicked\");\n      let url = `https://newsapi.org/v2/top-headlines?country=us&category=${this.props.category}&apiKey=ea68187f71374f6d8c64a5794237c8c1&page=${this.state.page_no - 1}&pageSize=${this.state.page_size}`;\n      this.setState({\n        loading: true\n      });\n      let data = await fetch(url);\n      let parsed_data = await data.json();\n      this.setState({\n        articles: parsed_data.articles,\n        total_results: parsed_data.totalResults,\n        page_no: this.state.page_no - 1,\n        loading: false\n      });\n    };\n    this.state = {\n      articles: this.articles,\n      page_no: this.page_no,\n      totalResults: this.totalResults,\n      page_size: this.page_size,\n      loading: false\n    };\n  }\n  async componentDidMount() {\n    let url = `https://newsapi.org/v2/top-headlines?country=us&category=${this.props.category}&apiKey=ea68187f71374f6d8c64a5794237c8c1&page=1&pageSize=${this.state.page_size}`;\n    this.setState({\n      loading: true\n    });\n    let data = await fetch(url);\n    let parsed_data = await data.json();\n    this.setState({\n      articles: parsed_data.articles,\n      totalResults: parsed_data.totalResults,\n      loading: false\n    });\n    console.log(this.state.totalResults);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container\",\n      style: {\n        marginTop: '5rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center my-3\",\n        children: \"Global News - Latest Updates\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"text-center\",\n        children: this.state.loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 36\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row\",\n        children: !this.state.loading && this.state.articles.map(element => {\n          return element.urlToImage && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 my-3\",\n            children: /*#__PURE__*/_jsxDEV(NewsItem, {\n              title: element.title,\n              desc: element.description,\n              urlToImage: element.urlToImage,\n              url: element.url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }, this)\n          }, element.url, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 50\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          disabled: this.state.page_no <= 1,\n          onClick: this.handleprev,\n          className: \"btn btn-dark\",\n          children: \"\\u2190 Prev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          disabled: this.state.page_no + 1 > Math.ceil(this.state.totalResults / this.state.page_size),\n          onClick: this.handlenext,\n          className: \"btn btn-dark\",\n          children: \"Next \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this);\n  }\n}\nexport default News;","map":{"version":3,"names":["React","Component","NewsItem","Spinner","jsxDEV","_jsxDEV","News","constructor","articles","page_no","totalResults","page_size","handlenext","state","Math","ceil","console","log","url","props","category","setState","loading","data","fetch","parsed_data","json","total_results","handleprev","componentDidMount","render","class","style","marginTop","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","element","urlToImage","title","desc","description","type","disabled","onClick"],"sources":["/Users/deepak/Documents/Deepak/ReactJs/news_app/src/components/News.js"],"sourcesContent":["import React, { Component } from 'react'\nimport NewsItem from './NewsItem'\nimport Spinner from './Spinner'\n\nexport class News extends Component {\n    articles = []\n    page_no = 1;\n    totalResults = 0\n    page_size = 10\n\n    constructor(){\n        super();\n        this.state = {\n            articles : this.articles,\n            page_no : this.page_no,\n            totalResults : this.totalResults,\n            page_size : this.page_size,\n            loading : false\n        }\n    }\n\n    async componentDidMount(){\n        let url = `https://newsapi.org/v2/top-headlines?country=us&category=${this.props.category}&apiKey=ea68187f71374f6d8c64a5794237c8c1&page=1&pageSize=${this.state.page_size}`\n        this.setState({loading : true})\n        let data = await fetch(url);\n        let parsed_data = await data.json();\n\n        this.setState({\n            articles : parsed_data.articles,\n            totalResults : parsed_data.totalResults,\n            loading : false\n        })\n        console.log(this.state.totalResults)\n    }\n\n    handlenext = async () => {\n        if(this.state.page_no + 1 > Math.ceil(this.state.totalResults/this.state.page_size)){console.log(Math.ceil(this.state.totalResults/this.state.page_size))}\n        else{\n            console.log(\"next is clicked\")\n            let url = `https://newsapi.org/v2/top-headlines?country=us&category=${this.props.category}&apiKey=ea68187f71374f6d8c64a5794237c8c1&page=${this.state.page_no + 1}&pageSize=${this.state.page_size}`\n            this.setState({loading : true})\n            let data = await fetch(url);\n            let parsed_data = await data.json();\n\n            this.setState({\n                articles : parsed_data.articles,\n                total_results : parsed_data.totalResults,\n                page_no : this.state.page_no + 1,\n                loading : false\n            })\n        }\n    }\n\n    handleprev = async () => {\n        console.log(\"prev clicked\")\n        let url = `https://newsapi.org/v2/top-headlines?country=us&category=${this.props.category}&apiKey=ea68187f71374f6d8c64a5794237c8c1&page=${this.state.page_no-1}&pageSize=${this.state.page_size}`\n        this.setState({loading : true})\n        let data = await fetch(url);\n        let parsed_data = await data.json();\n\n        this.setState({\n            articles : parsed_data.articles,\n            total_results : parsed_data.totalResults,\n            page_no : this.state.page_no - 1,\n            loading : false\n        })\n    }\n\n  render() {\n    return (\n        <div class = \"container\" style = {{marginTop : '5rem'}}>\n            <h1 className=\"text-center my-3\">Global News - Latest Updates</h1>\n            <div class = \"text-center\">\n            {this.state.loading && <Spinner/>}\n            </div>\n            <div class = \"row\">\n                {!this.state.loading && this.state.articles.map((element) => {\n                    return element.urlToImage && <div className= \"col-md-4 my-3\" key={element.url}>\n                        <NewsItem title ={element.title}  desc = {element.description} urlToImage = {element.urlToImage} url = {element.url}/>\n                    </div>\n                })}\n            </div>\n            <div className=\"d-flex justify-content-between\">\n                <button type=\"button\" disabled = {this.state.page_no <= 1} onClick = {this.handleprev} className=\"btn btn-dark\">&larr; Prev</button>\n                <button type=\"button\" disabled = {this.state.page_no + 1 > Math.ceil(this.state.totalResults/this.state.page_size)} onClick = {this.handlenext} className=\"btn btn-dark\">Next &rarr;</button>\n            </div>\n        </div>\n    )\n  }\n}\n\nexport default News\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}